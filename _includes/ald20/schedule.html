<div id="schedule" onload="askForKey()">
    <table class = "table table-bordered" style = "table-layout:auto;">
      	{%- for date in site.data[page.schedule] -%}
	        <th scope="col-lg-2" colspan=100> {{ date.date }} </td> <!-- Really high colspan to span over all columns -->

	        {%- for time in date.timeslots -%}
		        <tr>
		          	<td class="time" scope="row"> {{ time.time }} </td>

		          	{%- for event in time.events -%}
		            	<td colspan="{% if event.colspan %}{{ event.colspan }}{% else %} 1 {% endif%}">
			            	<span class="eventName"> {{ event.name }} </span> {%- if event.description %} <br> {{ event.description }} {% endif %}
			                {%- if event.link -%} 
			                  <br>
			                  <a class="eventLink" href='{{ event.link }}' target='_blank'>{% if event.platform %}Link to {{ event.platform }}{% else %}Event link{% endif %}</a>
			                {%- endif -%}
	              		</td>	              
		          	{%- endfor -%}
		        </tr>
	        {%- endfor -%}
      	{%- endfor -%}
    </table>
</div>

<script type="text/javascript">

	document.write("Hello WOrld!", "");
	function askForKey() {
		var input = prompt("To be able to see the links to attend the events, please enter the key you were given on registration. If you haven't registered yet, just enter nothing.", );
		if (input != "EdinburghAdaLovelaceHoppers2020") {
			[].forEach.call(document.querySelectorAll('.eventLink'), function (el) {
  				el.style.visibility = 'hidden';
			});
		} else {
			[].forEach.call(document.querySelectorAll('.eventLink'), function (el) {
  				el.style.visibility = 'visible';
			});
		}
	}
	window.onload = askForKey;
</script>
